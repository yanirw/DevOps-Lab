global:
  environment: dev
  domain: yanirw.com

projects:
  enabled: true
  config:
    - name: monitoring
      description: Monitoring project
      sourceRepos:
        - https://github.com/yanirw/DevOps-Lab
      destinations:
        - server: https://kubernetes.default.svc
          namespace: monitoring
      clusterResourceWhitelist:
        - group: '*'
          kind: '*'
      namespaceResourceWhitelist:
        - group: '*'
          kind: '*'
      orphanedResources:
        warn: true
      syncWindows:
        - kind: allow
          schedule: '* * * * *'
          duration: 24h
          applications:
            - '*'
          namespaces:
            - '*'
          clusters:
            - '*'

ingress:
  hostname: argo-dev.yanirw.com
  tls:
    secretName: cloudflare-tls
  annotations:
    kubernetes.io/ingress.class: gce
    kubernetes.io/ingress.global-static-ip-name: argocd-ip
    networking.gke.io/v1beta1.FrontendConfig: argocd-frontend-config
  hosts:
    - host: argo-dev.yanirw.com
      paths:
        - path: /
          pathType: Prefix

service:
  port: 80
  annotations:
    cloud.google.com/neg: '{"ingress": true}'
    cloud.google.com/backend-config: '{"ports": {"http":"argocd-backend-config"}}'

